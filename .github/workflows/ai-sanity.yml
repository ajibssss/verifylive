name: ğŸ§  AI Integration Sanity

on:
  push:
    paths:
      - 'src/lib/gemini/**'
      - 'package.json'

jobs:
  test-ai-sdk:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
      
      - run: npm ci
      
      - name: ğŸ§ª Verify Gemini SDK Import
        run: |
          node -e "try { require('@google/generative-ai'); console.log('âœ… Gemini SDK OK'); } catch (e) { console.error('âŒ Gemini SDK Missing'); process.exit(1); }"

      - name: ğŸ§ª Verify MediaPipe Tasks
        run: |
          node -e "try { require('@mediapipe/tasks-vision'); console.log('âœ… MediaPipe OK'); } catch (e) { console.error('âŒ MediaPipe Missing'); process.exit(1); }"
